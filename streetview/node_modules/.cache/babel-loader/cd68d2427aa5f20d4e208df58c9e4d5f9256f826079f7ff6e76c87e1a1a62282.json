{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nimport sweet from 'sweetalert';\nimport router from '@/router';\nimport { useCookies } from 'vue3-cookies';\nconst {\n  cookies\n} = useCookies();\nimport AuthenticateUser from '@/services/AuthenticateUser';\nconst HeatURL = 'https://sheaturl.onrender.com/';\n// https://sheaturl.onrender.com/\nexport default createStore({\n  state: {\n    users: null,\n    user: null,\n    products: null,\n    product: null,\n    // addProduct:null,\n    spinner: false,\n    token: null,\n    msg: null\n  },\n  getters: {},\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setUser(state, user) {\n      state.user = user;\n    },\n    setProducts(state, products) {\n      state.products = products;\n    },\n    setDeleteProducts(state, data) {\n      state.products = data;\n    },\n    setProduct(state, product) {\n      state.product = product;\n    },\n    // setAddProduct(state,data){\n    //   state.addProduct = data\n    // },\n\n    setSpinner(state, value) {\n      state.spinner = value;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    setMsg(state, msg) {\n      state.msg = msg;\n    }\n  },\n  actions: {\n    async fetchProducts(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${HeatURL}products`);\n        context.commit(\"setProducts\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"An error occurred\");\n      }\n    }\n  },\n  async fetchProduct(context, prodID) {\n    try {\n      const {\n        data\n      } = await axios.get(`${HeatURL}product/${prodID}`);\n      context.commit(\"setProduct\", data.results[0]);\n      console.log(data.results);\n    } catch (e) {\n      context.commit(\"setMsg\", \"An error occurred\");\n    }\n  },\n  async fetchUsers(context) {\n    try {\n      const {\n        data\n      } = await axios.get(`${HeatURL}users`);\n      context.commit(\"setUsers\", data.results);\n    } catch (e) {\n      context.commit(\"setMsg\", \"An error occurred\");\n    }\n  },\n  async DeleteProducts(context, prodID) {\n    try {\n      const response = await axios.delete(`${HeatURL}product/${prodID}`);\n      context.commit(\"setDeleteProducts\", response.data);\n    } catch (e) {\n      context.commit(\"setMsg\", \"An error occurred\");\n    }\n  },\n  // async addProduct({ commit }, productData) {\n  //   try {\n  //     const response = await axios.post(`${HeatURL}products`, productData);\n  //     // Handle success, e.g., commit the mutation or take any other actions\n  //     commit('setAddProduct', response.data);\n  //     // Reload your data or take other necessary actions\n  //     location.reload();\n  //   } catch (error) {\n  //     // Handle the error here, e.g., display an error message\n  //     console.error('An error occurred:', error);\n  //   }\n  // },\n\n  //login\n  async login(context, payload) {\n    try {\n      const {\n        msg,\n        token,\n        results\n      } = (await axios.post(`${HeatURL}login`, payload)).data;\n      if (results) {\n        context.commit(\"setUser\", {\n          results,\n          msg\n        });\n        cookies.set(\"MainUser\", {\n          msg,\n          token,\n          results\n        });\n        AuthenticateUser.applyToken(token);\n        sweet({\n          title: msg,\n          text: `Welcome back ${results?.firstName} ${results?.lastName}`,\n          icon: \"success\",\n          timer: 4000\n        });\n        router.push({\n          name: \"home\"\n        });\n      } else {\n        sweet({\n          title: \"Error\",\n          text: msg,\n          icon: \"error\",\n          timer: 4000\n        });\n      }\n    } catch (e) {\n      context.commit(\"setMsg\", \"An error has occured\");\n    }\n  },\n  LogOut(context) {\n    context.commit('setUser');\n    cookies.remove(\"MainUser\");\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","sweet","router","useCookies","cookies","AuthenticateUser","HeatURL","state","users","user","products","product","spinner","token","msg","getters","mutations","setUsers","setUser","setProducts","setDeleteProducts","data","setProduct","setSpinner","value","setToken","setMsg","actions","fetchProducts","context","get","commit","results","e","fetchProduct","prodID","console","log","fetchUsers","DeleteProducts","response","delete","login","payload","post","set","applyToken","title","text","firstName","lastName","icon","timer","push","name","LogOut","remove","modules"],"sources":["C:/Users/Student/Documents/Capstone/StreetHeat/streetview/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport sweet from 'sweetalert'\r\nimport router from '@/router'\r\nimport {useCookies} from 'vue3-cookies'\r\nconst {cookies}= useCookies()\r\nimport AuthenticateUser  from '@/services/AuthenticateUser'\r\nconst HeatURL = ('https://sheaturl.onrender.com/')\r\n// https://sheaturl.onrender.com/\r\nexport default createStore({\r\n  state: {\r\n    users: null,\r\n    user:null,\r\n    products:null,\r\n    product:null,\r\n    // addProduct:null,\r\n    spinner:false,\r\n    token:null,\r\n    msg:null\r\n  },\r\n  getters: {\r\n\r\n  },\r\n  mutations: {\r\n    setUsers(state, users){\r\n      state.users = users\r\n  },\r\n  setUser(state,user){\r\n    state.user = user\r\n  },\r\n  setProducts(state, products){\r\n    state.products = products\r\n  },\r\n  setDeleteProducts(state, data) {\r\n    state.products = data\r\n  },\r\n  setProduct(state, product){\r\n    state.product = product\r\n  },\r\n\r\n  // setAddProduct(state,data){\r\n  //   state.addProduct = data\r\n  // },\r\n\r\n  setSpinner(state , value){\r\n    state.spinner = value\r\n  },\r\n  setToken(state, token){\r\n    state.token = token\r\n  },\r\n  setMsg(state, msg){\r\n    state.msg = msg\r\n  }\r\n  },\r\n  actions: {\r\n    async fetchProducts(context){\r\n      try{\r\n        const {data} = await axios.get(`${HeatURL}products`)\r\n        context.commit(\"setProducts\", data.results)\r\n      }catch(e){\r\n        context.commit(\"setMsg\", \"An error occurred\")\r\n      }\r\n    }\r\n  },\r\n\r\n  async fetchProduct(context, prodID) {\r\n    try{\r\n      const {data} = await axios.get(`${HeatURL}product/${prodID}`)\r\n      context.commit(\"setProduct\", data.results[0])\r\n      console.log(data.results);\r\n    }catch(e){\r\n      context.commit(\"setMsg\", \"An error occurred\")\r\n    }\r\n  },\r\n  async fetchUsers(context) {\r\n    try{\r\n      const {data} = await axios.get(`${HeatURL}users`)\r\n      context.commit(\"setUsers\", data.results)\r\n    }catch(e){\r\n      context.commit(\"setMsg\", \"An error occurred\")\r\n    }\r\n  },\r\n\r\n  async DeleteProducts(context, prodID ) {\r\n    try{\r\n      const response = await axios.delete(`${HeatURL}product/${prodID}`)\r\n      context.commit(\"setDeleteProducts\", response.data)\r\n    }catch(e){\r\n      context.commit(\"setMsg\", \"An error occurred\")\r\n    }\r\n  },\r\n \r\n  // async addProduct({ commit }, productData) {\r\n  //   try {\r\n  //     const response = await axios.post(`${HeatURL}products`, productData);\r\n  //     // Handle success, e.g., commit the mutation or take any other actions\r\n  //     commit('setAddProduct', response.data);\r\n  //     // Reload your data or take other necessary actions\r\n  //     location.reload();\r\n  //   } catch (error) {\r\n  //     // Handle the error here, e.g., display an error message\r\n  //     console.error('An error occurred:', error);\r\n  //   }\r\n  // },\r\n\r\n //login\r\n async login(context, payload) {\r\n  try {\r\n    const { msg, token, results } = (\r\n      await axios.post(`${HeatURL}login`, payload)\r\n    ).data;\r\n    if (results) {\r\n      context.commit(\"setUser\", { results, msg });\r\n      cookies.set(\"MainUser\", { msg, token, results });\r\n      AuthenticateUser.applyToken(token);\r\n      sweet({\r\n        title: msg,\r\n        text: `Welcome back ${results?.firstName} ${results?.lastName}`,\r\n        icon: \"success\",\r\n        timer: 4000,\r\n      });\r\n      router.push({ name: \"home\" });\r\n    } else {\r\n      sweet({\r\n        title: \"Error\",\r\n        text: msg,\r\n        icon: \"error\",\r\n        timer: 4000,\r\n      });\r\n    }\r\n  } catch (e) {\r\n    context.commit(\"setMsg\", \"An error has occured\");\r\n  }\r\n},\r\nLogOut(context){\r\n  context.commit('setUser')\r\n  cookies.remove(\"MainUser\");\r\n},\r\n\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,MAAM,MAAM,UAAU;AAC7B,SAAQC,UAAU,QAAO,cAAc;AACvC,MAAM;EAACC;AAAO,CAAC,GAAED,UAAU,CAAC,CAAC;AAC7B,OAAOE,gBAAgB,MAAO,6BAA6B;AAC3D,MAAMC,OAAO,GAAI,gCAAiC;AAClD;AACA,eAAeP,WAAW,CAAC;EACzBQ,KAAK,EAAE;IACLC,KAAK,EAAE,IAAI;IACXC,IAAI,EAAC,IAAI;IACTC,QAAQ,EAAC,IAAI;IACbC,OAAO,EAAC,IAAI;IACZ;IACAC,OAAO,EAAC,KAAK;IACbC,KAAK,EAAC,IAAI;IACVC,GAAG,EAAC;EACN,CAAC;EACDC,OAAO,EAAE,CAET,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAACV,KAAK,EAAEC,KAAK,EAAC;MACpBD,KAAK,CAACC,KAAK,GAAGA,KAAK;IACvB,CAAC;IACDU,OAAOA,CAACX,KAAK,EAACE,IAAI,EAAC;MACjBF,KAAK,CAACE,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDU,WAAWA,CAACZ,KAAK,EAAEG,QAAQ,EAAC;MAC1BH,KAAK,CAACG,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDU,iBAAiBA,CAACb,KAAK,EAAEc,IAAI,EAAE;MAC7Bd,KAAK,CAACG,QAAQ,GAAGW,IAAI;IACvB,CAAC;IACDC,UAAUA,CAACf,KAAK,EAAEI,OAAO,EAAC;MACxBJ,KAAK,CAACI,OAAO,GAAGA,OAAO;IACzB,CAAC;IAED;IACA;IACA;;IAEAY,UAAUA,CAAChB,KAAK,EAAGiB,KAAK,EAAC;MACvBjB,KAAK,CAACK,OAAO,GAAGY,KAAK;IACvB,CAAC;IACDC,QAAQA,CAAClB,KAAK,EAAEM,KAAK,EAAC;MACpBN,KAAK,CAACM,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDa,MAAMA,CAACnB,KAAK,EAAEO,GAAG,EAAC;MAChBP,KAAK,CAACO,GAAG,GAAGA,GAAG;IACjB;EACA,CAAC;EACDa,OAAO,EAAE;IACP,MAAMC,aAAaA,CAACC,OAAO,EAAC;MAC1B,IAAG;QACD,MAAM;UAACR;QAAI,CAAC,GAAG,MAAMrB,KAAK,CAAC8B,GAAG,CAAE,GAAExB,OAAQ,UAAS,CAAC;QACpDuB,OAAO,CAACE,MAAM,CAAC,aAAa,EAAEV,IAAI,CAACW,OAAO,CAAC;MAC7C,CAAC,QAAMC,CAAC,EAAC;QACPJ,OAAO,CAACE,MAAM,CAAC,QAAQ,EAAE,mBAAmB,CAAC;MAC/C;IACF;EACF,CAAC;EAED,MAAMG,YAAYA,CAACL,OAAO,EAAEM,MAAM,EAAE;IAClC,IAAG;MACD,MAAM;QAACd;MAAI,CAAC,GAAG,MAAMrB,KAAK,CAAC8B,GAAG,CAAE,GAAExB,OAAQ,WAAU6B,MAAO,EAAC,CAAC;MAC7DN,OAAO,CAACE,MAAM,CAAC,YAAY,EAAEV,IAAI,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC;MAC7CI,OAAO,CAACC,GAAG,CAAChB,IAAI,CAACW,OAAO,CAAC;IAC3B,CAAC,QAAMC,CAAC,EAAC;MACPJ,OAAO,CAACE,MAAM,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IAC/C;EACF,CAAC;EACD,MAAMO,UAAUA,CAACT,OAAO,EAAE;IACxB,IAAG;MACD,MAAM;QAACR;MAAI,CAAC,GAAG,MAAMrB,KAAK,CAAC8B,GAAG,CAAE,GAAExB,OAAQ,OAAM,CAAC;MACjDuB,OAAO,CAACE,MAAM,CAAC,UAAU,EAAEV,IAAI,CAACW,OAAO,CAAC;IAC1C,CAAC,QAAMC,CAAC,EAAC;MACPJ,OAAO,CAACE,MAAM,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IAC/C;EACF,CAAC;EAED,MAAMQ,cAAcA,CAACV,OAAO,EAAEM,MAAM,EAAG;IACrC,IAAG;MACD,MAAMK,QAAQ,GAAG,MAAMxC,KAAK,CAACyC,MAAM,CAAE,GAAEnC,OAAQ,WAAU6B,MAAO,EAAC,CAAC;MAClEN,OAAO,CAACE,MAAM,CAAC,mBAAmB,EAAES,QAAQ,CAACnB,IAAI,CAAC;IACpD,CAAC,QAAMY,CAAC,EAAC;MACPJ,OAAO,CAACE,MAAM,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IAC/C;EACF,CAAC;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAED;EACA,MAAMW,KAAKA,CAACb,OAAO,EAAEc,OAAO,EAAE;IAC7B,IAAI;MACF,MAAM;QAAE7B,GAAG;QAAED,KAAK;QAAEmB;MAAQ,CAAC,GAAG,CAC9B,MAAMhC,KAAK,CAAC4C,IAAI,CAAE,GAAEtC,OAAQ,OAAM,EAAEqC,OAAO,CAAC,EAC5CtB,IAAI;MACN,IAAIW,OAAO,EAAE;QACXH,OAAO,CAACE,MAAM,CAAC,SAAS,EAAE;UAAEC,OAAO;UAAElB;QAAI,CAAC,CAAC;QAC3CV,OAAO,CAACyC,GAAG,CAAC,UAAU,EAAE;UAAE/B,GAAG;UAAED,KAAK;UAAEmB;QAAQ,CAAC,CAAC;QAChD3B,gBAAgB,CAACyC,UAAU,CAACjC,KAAK,CAAC;QAClCZ,KAAK,CAAC;UACJ8C,KAAK,EAAEjC,GAAG;UACVkC,IAAI,EAAG,gBAAehB,OAAO,EAAEiB,SAAU,IAAGjB,OAAO,EAAEkB,QAAS,EAAC;UAC/DC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE;QACT,CAAC,CAAC;QACFlD,MAAM,CAACmD,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;MAC/B,CAAC,MAAM;QACLrD,KAAK,CAAC;UACJ8C,KAAK,EAAE,OAAO;UACdC,IAAI,EAAElC,GAAG;UACTqC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOnB,CAAC,EAAE;MACVJ,OAAO,CAACE,MAAM,CAAC,QAAQ,EAAE,sBAAsB,CAAC;IAClD;EACF,CAAC;EACDwB,MAAMA,CAAC1B,OAAO,EAAC;IACbA,OAAO,CAACE,MAAM,CAAC,SAAS,CAAC;IACzB3B,OAAO,CAACoD,MAAM,CAAC,UAAU,CAAC;EAC5B,CAAC;EAECC,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}